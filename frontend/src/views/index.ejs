<!DOCTYPE html>
<html>
  <head>
    <title>Kosima</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/stylesheets/index.css" />
    <link rel="stylesheet" href="/stylesheets/modal.css" />
    <script src="https://unpkg.com/micromodal/dist/micromodal.min.js"></script>
  </head>
  <body>
    <div class="Kosima">
      <div class="Bar Closed">
        <div class="Bar-Header">
          <div class="Identity">
            <div class="Logo"></div>
            <h1 class="Title">Kosima</h1>
          </div>
          <div class="Burger" onclick="ToggleBar()">
            <span></span>
            <span></span>
            <span></span>
          </div>
        </div>
        <div class="Bar-Menu">
          <ul class="Bar-Menu-Items">
            <li class="Bar-Menu-Item">
              <a href="/" class="Bar-Link">Home</a>
              <span class="Upper-Fold"></span>
              <span class="Lower-Fold"></span>
            </li>
            <li class="Bar-Menu-Item">
              <a href="/pedidos" class="Bar-Link">Pedidos</a>
              <span class="Upper-Fold"></span>
              <span class="Lower-Fold"></span>
            </li>
            <li class="Bar-Menu-Item">
              <a href="/financeiro" class="Bar-Link">Financeiro</a>
              <span class="Upper-Fold"></span>
              <span class="Lower-Fold"></span>
            </li>
            <li class="Bar-Menu-Item">
              <a href="/estoque" class="Bar-Link">Estoque</a>
              <span class="Upper-Fold"></span>
              <span class="Lower-Fold"></span>
            </li>
          </ul>
        </div>
      </div>
      <div class="Content">
        <!---------------------------->
        <div class="Tables-Wrapper">
          <div class="Table-Container">
            <div class="Table-Header">
              <img
                src="https://media-cdn.tripadvisor.com/media/photo-s/06/ce/1e/63/daruma-restaurante-japones.jpg"
                alt=""
              />
            </div>
            <div class="Table-Body">
              <div class="Table-Text">
                <div class="Table-Number">21</div>
                <div class="Table-Parcial">
                  <h2>Valor Atual</h2>
                  <span>R$512,79</span>
                </div>
              </div>
              <div class="Table-Buttons">
                <button class="Table-Open" onclick="AbrirMesa(id)">
                  Abrir Mesa
                </button>
                <button class="Table-Details" data-micromodal-trigger="modal-1">
                  Detalhes
                </button>
              </div>
            </div>
          </div>

          <div class="Table-Container Inactive">
            <div class="Table-Header">
              <img
                src="https://media-cdn.tripadvisor.com/media/photo-s/06/ce/1e/63/daruma-restaurante-japones.jpg"
                alt=""
              />
            </div>
            <div class="Table-Body">
              <div class="Table-Text">
                <div class="Table-Number">22</div>
                <div class="Table-Parcial">
                  <h2>Valor Atual</h2>
                  <span>-</span>
                </div>
              </div>
              <div class="Table-Buttons">
                <button class="Table-Open" onclick="AbrirMesa(id)">
                  Abrir Mesa
                </button>
                <button class="Table-Details" data-micromodal-trigger="modal-1">
                  Detalhes
                </button>
              </div>
            </div>
          </div>
        </div>
        <!---------------------------->
      </div>
    </div>
    <div class="Modal-Wrapper">
      <!-- Renderizar um modal para cada mesa aberta -->

      <div class="modal micromodal-slide" id="modal-1" aria-hidden="true">
        <div class="modal__overlay" tabindex="-1" data-micromodal-close>
          <div
            class="modal__container"
            role="dialog"
            aria-modal="true"
            aria-labelledby="modal-1-title"
          >
            <header class="modal__header">
              <h2 class="modal__title" id="modal-1-title">Mesa X</h2>
              <button
                class="modal__close"
                aria-label="Close modal"
                data-micromodal-close
              ></button>
            </header>
            <main class="modal__content" id="modal-1-content">
              <table class="order-wrapper">
                <tr class="order-item" id="legenda">
                  <th class="order-name">Nome do Item</th>
                  <th class="order-qt">Qtd</th>
                  <th class="order-price">Valor Un.</th>
                </tr>
                <!-----------Renderizar para cada item-------------->
                <tr class="order-item">
                  <td class="order-name">Prato X</td>
                  <td class="order-qt">x</td>
                  <td class="order-price">R$XX,XX</td>
                </tr>
                <tr class="order-item">
                  <td class="order-name">Prato X</td>
                  <td class="order-qt">x</td>
                  <td class="order-price">R$XX,XX</td>
                </tr>
                <tr class="order-item">
                  <td class="order-name">Prato X</td>
                  <td class="order-qt">x</td>
                  <td class="order-price">R$XX,XX</td>
                </tr>
                <tr class="order-item">
                  <td class="order-name">Prato X</td>
                  <td class="order-qt">x</td>
                  <td class="order-price">R$XX,XX</td>
                </tr>
                <!------------------------->
                <tr class="order-item" id="sumario">
                  <th class="order-name">Total</th>
                  <th class="order-price">R$XX,XX</th>
                </tr>
              </table>
            </main>
            <footer class="modal__footer">
              <button class="modal__btn modal__btn-primary">
                Fechar Conta
              </button>
              <button class="modal__btn" data-micromodal-close>Voltar</button>
            </footer>
          </div>
        </div>
      </div>

      <!-- Renderizar um modal para cada mesa aberta -->
    </div>
  </body>
  <script>
    window.BarOpen = false;
    MicroModal.init({
      disableFocus: true,
    });
    function ToggleBar() {
      if (window.BarOpen == true) {
        document.querySelector('.Bar').classList.add('Closed');
        window.BarOpen = false;
      } else {
        document.querySelector('.Bar').classList.remove('Closed');
        window.BarOpen = true;
      }
    }

    function AbrirMesa(id) {
      //muda o valor da flag "aberta" e recarrega a pagina
    }
    function FecharMesa(id) {
      //muda o valor da flag "aberta", lan√ßa o lucro no financeiro e recarrega a pagina
    }
  </script>
</html>
